Bootstrap: localimage
From: poolparty.sif


%files

%environment

%post
	# Bio-BWA
	cd /usr/local/src
	wget https://sourceforge.net/projects/bio-bwa/files/bwa-0.7.17.tar.bz2
	tar xvf bwa-0.7.17.tar.bz2
	
	# FastQC
	cd /usr/local/src
	wget https://www.bioinformatics.babraham.ac.uk/projects/fastqc/fastqc_v0.11.9.zip
	cd ..
	unzip src/fastqc_v0.11.9.zip

	# samblaster
	cd /usr/local/src/
	git clone https://github.com/GregoryFaust/samblaster.git
	cd samblaster
	make
	cp samblaster /usr/local/bin/.
	
	# samtools
	cd /usr/local/src
	wget https://github.com/samtools/samtools/releases/download/1.14/samtools-1.14.tar.bz2
	tar xf samtools-1.14.tar.bz2
	cd /usr/local/src/samtools-1.14
	./configure --prefix=/usr/local
	make
	make install
	
	# bcftools
	cd /usr/local/src
        wget https://github.com/samtools/bcftools/releases/download/1.14/bcftools-1.14.tar.bz2
        tar xf bcftools-1.14.tar.bz2
	cd /usr/local/src/bcftools-1.14    
	./configure --prefix=/usr/local
	make
	make install
	
	# PicardTools
	# copy picard tools into /usr/local/PicardTools and create an envir var
	cd /usr/local/src
	wget https://github.com/broadinstitute/picard/releases/download/2.26.10/picard.jar
	cp /usr/local/src/picard.jar /usr/local/bin

	# Popoolation
	# copy Poppolation into /usr/local/Popoolation and create env variable
	cd /usr/local/src
	wget https://sourceforge.net/projects/popoolation2/files/popoolation2_1201.zip 
	cd ..
	unzip src/popoolation2_1201.zip
	
	# BBMap
	# copy BBMap into /usr/local/BBMap and create link/add to path
	cd /usr/local/src
	wget https://sourceforge.net/projects/bbmap/files/BBMap_38.95.tar.gz
	cd ..
	tar xvf src/BBMap_38.95.tar.gz
	#do something here
	
	# PoolParty
	cd /usr/local
	git clone https://github.com/StevenMicheletti/poolparty.git


%runscript

%startscript
