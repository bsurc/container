Bootstrap: docker
From: ubuntu:focal


%files

%environment

%post
	export DEBIAN_FRONTEND="noninteractive"
	apt -y update && apt -y dist-upgrade
	apt -y install wget bzip2 unzip zip git
        echo "deb https://cloud.r-project.org/bin/linux/ubuntu focal-cran40/" >> /etc/apt/sources.list
	wget -qO- https://cloud.r-project.org/bin/linux/ubuntu/marutter_pubkey.asc | tee -a /etc/apt/trusted.gpg.d/cran_ubuntu_key.asc
	apt -y update && apt -y dist-upgrade
	apt -y install r-base-dev default-jdk default-jre perl
	apt -y install libfontconfig1-dev libcurl4-openssl-dev libssl-dev

        R --slave -e 'install.packages("matrixStats", repos = "http://cloud.r-project.org/", dependencies = TRUE)'
        R --slave -e 'install.packages("tidyr", repos = "http://cloud.r-project.org/", dependencies = TRUE)'
        R --slave -e 'install.packages("stringr", repos = "http://cloud.r-project.org/", dependencies = TRUE)'
        R --slave -e 'install.packages("data.table", repos = "http://cloud.r-project.org/", dependencies = TRUE)'
        R --slave -e 'install.packages("reshape", repos = "http://cloud.r-project.org/", dependencies = TRUE)'
        R --slave -e 'install.packages("fBasics", repos = "http://cloud.r-project.org/", dependencies = TRUE)'
        R --slave -e 'install.packages("ggplot2", repos = "http://cloud.r-project.org/", dependencies = TRUE)'
        R --slave -e 'install.packages("RColorBrewer", repos = "http://cloud.r-project.org/", dependencies = TRUE)'
        R --slave -e 'install.packages("plyr", repos = "http://cloud.r-project.org/", dependencies = TRUE)'
        R --slave -e 'install.packages("ape", repos = "http://cloud.r-project.org/", dependencies = TRUE)'
	R --slave -e 'install.packages("BiocManager", repos= "http://cloud.r-project.org/", dependencies = TRUE)'
	R --slave -e 'BiocManager::install("multtest")'
        R --slave -e 'install.packages("metap", repos = "http://cloud.r-project.org/", dependencies = TRUE)'

%runscript

%startscript
